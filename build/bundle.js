var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(r)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const i="undefined"!=typeof window;let a=i?()=>window.performance.now():()=>Date.now(),u=i?t=>requestAnimationFrame(t):t;const f=new Set;function d(t){f.forEach(e=>{e.c(t)||(f.delete(e),e.f())}),0!==f.size&&u(d)}function p(t){let e;return 0===f.size&&u(d),{promise:new Promise(n=>{f.add(e={c:t,f:n})}),abort(){f.delete(e)}}}function m(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function w(){return $(" ")}function b(){return $("")}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function P(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function E(t,e,n){t.classList[n?"add":"remove"](e)}function M(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const C=new Set;let O,j=0;function S(t,e,n,r,o,s,c,l=0){const i=16.666/r;let a="{\n";for(let t=0;t<=1;t+=i){const r=e+(n-e)*s(t);a+=100*t+`%{${c(r,1-r)}}\n`}const u=a+`100% {${c(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,d=t.ownerDocument;C.add(d);const p=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(v("style")).sheet),m=d.__svelte_rules||(d.__svelte_rules={});m[f]||(m[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${f} ${r}ms linear ${o}ms 1 both`,j+=1,f}function q(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),j-=o,j||u(()=>{j||(C.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),C.clear())}))}function A(t){O=t}function z(){if(!O)throw new Error("Function called outside component initialization");return O}function L(){const t=z();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=M(e,n);r.slice().forEach(e=>{e.call(t,o)})}}}const T=[],N=[],R=[],B=[],F=Promise.resolve();let I=!1;function D(t){R.push(t)}let H=!1;const W=new Set;function Y(){if(!H){H=!0;do{for(let t=0;t<T.length;t+=1){const e=T[t];A(e),K(e.$$)}for(T.length=0;N.length;)N.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];W.has(e)||(W.add(e),e())}R.length=0}while(T.length);for(;B.length;)B.pop()();I=!1,H=!1,W.clear()}}function K(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}let V;function G(){return V||(V=Promise.resolve(),V.then(()=>{V=null})),V}function J(t,e,n){t.dispatchEvent(M(`${e?"intro":"outro"}${n}`))}const Q=new Set;let U;function X(){U={r:0,c:[],p:U}}function Z(){U.r||s(U.c),U=U.p}function tt(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function et(t,e,n,r){if(t&&t.o){if(Q.has(t))return;Q.add(t),U.c.push(()=>{Q.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const nt={duration:0};function rt(n,r,o){let s,l,i=r(n,o),u=!1,f=0;function d(){s&&q(n,s)}function m(){const{delay:r=0,duration:o=300,easing:c=e,tick:m=t,css:g}=i||nt;g&&(s=S(n,0,1,o,r,c,g,f++)),m(0,1);const h=a()+r,y=h+o;l&&l.abort(),u=!0,D(()=>J(n,!0,"start")),l=p(t=>{if(u){if(t>=y)return m(1,0),J(n,!0,"end"),d(),u=!1;if(t>=h){const e=c((t-h)/o);m(e,1-e)}}return u})}let g=!1;return{start(){g||(q(n),c(i)?(i=i(),G().then(m)):m())},invalidate(){g=!1},end(){u&&(d(),u=!1)}}}function ot(n,r,o){let l,i=r(n,o),u=!0;const f=U;function d(){const{delay:r=0,duration:o=300,easing:c=e,tick:d=t,css:m}=i||nt;m&&(l=S(n,1,0,o,r,c,m));const g=a()+r,h=g+o;D(()=>J(n,!1,"start")),p(t=>{if(u){if(t>=h)return d(0,1),J(n,!1,"end"),--f.r||s(f.c),!1;if(t>=g){const e=c((t-g)/o);d(1-e,e)}}return u})}return f.r+=1,c(i)?G().then(()=>{i=i(),d()}):d(),{end(t){t&&i.tick&&i.tick(1,0),u&&(l&&q(n,l),u=!1)}}}function st(t,e){const n=e.token={};function r(t,r,o,s){if(e.token!==n)return;e.resolved=s;let c=e.ctx;void 0!==o&&(c=c.slice(),c[o]=s);const l=t&&(e.current=t)(c);let i=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==r&&t&&(X(),et(t,1,1,()=>{e.blocks[n]=null}),Z())}):e.block.d(1),l.c(),tt(l,1),l.m(e.mount(),e.anchor),i=!0),e.block=l,e.blocks&&(e.blocks[r]=l),i&&Y()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=z();if(t.then(t=>{A(n),r(e.then,1,e.value,t),A(null)},t=>{A(n),r(e.catch,2,e.error,t),A(null)}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}function ct(t){t&&t.c()}function lt(t,e,n){const{fragment:o,on_mount:l,on_destroy:i,after_update:a}=t.$$;o&&o.m(e,n),D(()=>{const e=l.map(r).filter(c);i?i.push(...e):s(e),t.$$.on_mount=[]}),a.forEach(D)}function it(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(t,e){-1===t.$$.dirty[0]&&(T.push(t),I||(I=!0,F.then(Y)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ut(e,n,r,c,l,i,a=[-1]){const u=O;A(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a};let p=!1;if(d.ctx=r?r(e,f,(t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),p&&at(e,t)),n}):[],d.update(),p=!0,s(d.before_update),d.fragment=!!c&&c(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(h)}else d.fragment&&d.fragment.c();n.intro&&tt(e.$$.fragment),lt(e,n.target,n.anchor),Y()}A(u)}class ft{$destroy(){it(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function dt(t){return t[Math.floor(t.length*Math.random())]}function pt(t){return new Promise(e=>{setTimeout(e,t)})}function mt(t,e){-1!==e&&(t[e]=t[t.length-1],t.pop())}function gt(t,e,n){const r=t.slice();return r[5]=e[n],r}function ht(t){let e,n,r,o,s=t[5].label+"";function c(...e){return t[3](t[5],...e)}return{c(){e=v("button"),n=$(s),e.disabled=t[0],_(e,"class","svelte-p9q5sg")},m(t,s){g(t,e,s),m(e,n),r||(o=k(e,"click",c),r=!0)},p(n,r){t=n,1&r&&(e.disabled=t[0])},d(t){t&&h(e),r=!1,o()}}}function yt(e){let n,r,o,s,c,l=e[1],i=[];for(let t=0;t<l.length;t+=1)i[t]=ht(gt(e,l,t));return{c(){n=v("header"),n.innerHTML='<h1 class="svelte-p9q5sg">\n    CameoP<span class="logo svelte-p9q5sg">a</span>rison\n  </h1> \n\n  <p class="svelte-p9q5sg">\n    On <a href="https://cameo.com">cameo.com</a>, you can buy personalised video\n    clips from everyone from Lindsay Lohan to Ice T.\n  </p> \n\n  <p class="svelte-p9q5sg">But who commands the highest price?</p>',r=w(),o=v("p"),o.textContent="Pick a category to play a game",s=w(),c=v("div");for(let t=0;t<i.length;t+=1)i[t].c();_(o,"class","svelte-p9q5sg"),_(c,"class","categories svelte-p9q5sg")},m(t,e){g(t,n,e),g(t,r,e),g(t,o,e),g(t,s,e),g(t,c,e);for(let t=0;t<i.length;t+=1)i[t].m(c,null)},p(t,[e]){if(7&e){let n;for(l=t[1],n=0;n<l.length;n+=1){const r=gt(t,l,n);i[n]?i[n].p(r,e):(i[n]=ht(r),i[n].c(),i[n].m(c,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=l.length}},i:t,o:t,d(t){t&&h(n),t&&h(r),t&&h(o),t&&h(s),t&&h(c),y(i,t)}}}function vt(t,e,n){const r=L();let o=!1;const s=t=>{n(0,o=!0),r("select",{category:t})};return[o,[{slug:"actors",label:"Actors"},{slug:"athletes",label:"Athletes"},{slug:"comedians",label:"Comedians"},{slug:"creators",label:"Creators"},{slug:"models",label:"Models"},{slug:"musicians",label:"Musicians"},{slug:"reality-tv",label:"Reality TV"}],s,t=>s(t)]}class $t extends ft{constructor(t){super(),ut(this,t,vt,yt,l,{})}}function wt(t){const e=t-1;return e*e*e+1}function bt(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function kt(t,{delay:e=0,duration:n=400,easing:r=wt,x:o=0,y:s=0,opacity:c=0}){const l=getComputedStyle(t),i=+l.opacity,a="none"===l.transform?"":l.transform,u=i*(1-c);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*o}px, ${(1-t)*s}px);\n\t\t\topacity: ${i-u*e}`}}function _t(t,{delay:e=0,duration:n=400,easing:r=wt,start:o=0,opacity:s=0}){const c=getComputedStyle(t),l=+c.opacity,i="none"===c.transform?"":c.transform,a=1-o,u=l*(1-s);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${i} scale(${1-a*e});\n\t\t\topacity: ${l-u*e}\n\t\t`}}function xt(t){var{fallback:e}=t,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["fallback"]);const o=new Map,s=new Map;function l(t,o,s){return(l,i)=>(t.set(i.key,{rect:l.getBoundingClientRect()}),()=>{if(o.has(i.key)){const{rect:t}=o.get(i.key);return o.delete(i.key),function(t,e,o){const{delay:s=0,duration:l=(t=>30*Math.sqrt(t)),easing:i=wt}=n(n({},r),o),a=e.getBoundingClientRect(),u=t.left-a.left,f=t.top-a.top,d=t.width/a.width,p=t.height/a.height,m=Math.sqrt(u*u+f*f),g=getComputedStyle(e),h="none"===g.transform?"":g.transform,y=+g.opacity;return{delay:s,duration:c(l)?l(m):l,easing:i,css:(t,e)=>`\n\t\t\t\topacity: ${t*y};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${h} translate(${e*u}px,${e*f}px) scale(${t+(1-t)*d}, ${t+(1-t)*p});\n\t\t\t`}}(t,l,i)}return t.delete(i.key),e&&e(l,i,s)})}return[l(s,o,!1),l(o,s,!0)]}function Pt(e){let n,r,o,s,c,l=e[0].price+"";return{c(){n=v("div"),r=v("span"),o=$("$"),s=$(l),_(n,"class","price svelte-14stzkp"),E(n,"large",e[2])},m(t,e){g(t,n,e),m(n,r),m(r,o),m(r,s)},p(t,e){1&e&&l!==(l=t[0].price+"")&&x(s,l),4&e&&E(n,"large",t[2])},i(t){c||D(()=>{c=rt(r,_t,{easing:bt,duration:600}),c.start()})},o:t,d(t){t&&h(n)}}}function Et(e){let n,r,o,s,c,l,i,a,u,f,d,p,y,b=e[0].name+"",E=e[0].type+"",M=e[1]&&Pt(e);return{c(){n=v("div"),r=v("button"),o=v("div"),s=v("h2"),c=v("a"),l=$(b),a=w(),u=v("p"),f=$(E),d=w(),M&&M.c(),_(c,"target","_blank"),_(c,"href",i="https://cameo.com/"+e[0].id),_(s,"class","svelte-14stzkp"),_(u,"class","type svelte-14stzkp"),_(o,"class","details svelte-14stzkp"),_(r,"class","card-inner svelte-14stzkp"),P(r,"background-image","url("+e[0].image+")"),_(n,"class","card-outer svelte-14stzkp")},m(t,i){g(t,n,i),m(n,r),m(r,o),m(o,s),m(s,c),m(c,l),m(o,a),m(o,u),m(u,f),m(r,d),M&&M.m(r,null),p||(y=k(r,"click",e[4]),p=!0)},p(t,[e]){1&e&&b!==(b=t[0].name+"")&&x(l,b),1&e&&i!==(i="https://cameo.com/"+t[0].id)&&_(c,"href",i),1&e&&E!==(E=t[0].type+"")&&x(f,E),t[1]?M?(M.p(t,e),2&e&&tt(M,1)):(M=Pt(t),M.c(),tt(M,1),M.m(r,null)):M&&(M.d(1),M=null),1&e&&P(r,"background-image","url("+t[0].image+")")},i(t){tt(M)},o:t,d(t){t&&h(n),M&&M.d(),p=!1,y()}}}function Mt(t,e,n){let{celeb:r}=e,{showPrice:o}=e,{winner:s}=e;const c=L();return t.$set=t=>{"celeb"in t&&n(0,r=t.celeb),"showPrice"in t&&n(1,o=t.showPrice),"winner"in t&&n(2,s=t.winner)},[r,o,s,c,()=>c("select")]}class Ct extends ft{constructor(t){super(),ut(this,t,Mt,Et,l,{celeb:0,showPrice:1,winner:2})}}function Ot(t,e,n){const r=t.slice();return r[21]=e[n],r[6]=n,r}function jt(t){t[23]=t[25][0],t[24]=t[25][1]}function St(t){let e;return{c(){e=$("Tap on the more monetisable celebrity's face, or tap 'same price' if\n      society values them equally.")},m(t,n){g(t,e,n)},d(t){t&&h(e)}}}function qt(t){let e,n,r,o;const s=[zt,At],c=[];function l(t,e){return t[3]?0:1}return e=l(t),n=c[e]=s[e](t),{c(){n.c(),r=b()},m(t,n){c[e].m(t,n),g(t,r,n),o=!0},p(t,o){let i=e;e=l(t),e===i?c[e].p(t,o):(X(),et(c[i],1,1,()=>{c[i]=null}),Z(),n=c[e],n||(n=c[e]=s[e](t),n.c()),tt(n,1),n.m(r.parentNode,r))},i(t){o||(tt(n),o=!0)},o(t){et(n),o=!1},d(t){c[e].d(t),t&&h(r)}}}function At(t){let e,n,r,o={ctx:t,current:null,token:null,pending:Nt,then:Tt,catch:Lt,value:25,blocks:[,,,]};return st(n=t[7][t[6]],o),{c(){e=b(),o.block.c()},m(t,n){g(t,e,n),o.block.m(t,o.anchor=n),o.mount=()=>e.parentNode,o.anchor=e,r=!0},p(e,r){if(t=e,o.ctx=t,64&r&&n!==(n=t[7][t[6]])&&st(n,o));else{const e=t.slice();e[25]=o.resolved,o.block.p(e,r)}},i(t){r||(tt(o.block),r=!0)},o(t){for(let t=0;t<3;t+=1){et(o.blocks[t])}r=!1},d(t){t&&h(e),o.block.d(t),o.token=null,o=null}}}function zt(e){let n,r,o,s,c,l,i,a,u,f,d,p,y,b,P,E=e[4].length+"",M=e[12](e[5],e[4].length)+"";return{c(){n=v("div"),r=v("p"),r.textContent="Your score is...",o=w(),s=v("strong"),c=$(e[5]),l=$("/"),i=$(E),a=w(),u=v("p"),f=$(M),d=w(),p=v("button"),p.textContent="Back to main screen",_(s,"class","svelte-1l5sw70"),_(n,"class","game-end svelte-1l5sw70")},m(t,h){g(t,n,h),m(n,r),m(n,o),m(n,s),m(s,c),m(s,l),m(s,i),m(n,a),m(n,u),m(u,f),m(n,d),m(n,p),b||(P=k(p,"click",e[14]),b=!0)},p(t,e){32&e&&x(c,t[5]),16&e&&E!==(E=t[4].length+"")&&x(i,E),48&e&&M!==(M=t[12](t[5],t[4].length)+"")&&x(f,M)},i(t){y||D(()=>{y=rt(n,_t,{easing:bt,duration:800}),y.start()})},o:t,d(t){t&&h(n),b=!1,P()}}}function Lt(e){let n;return{c(){n=v("p"),n.textContent="Ooops! Failed to load data",_(n,"class","error svelte-1l5sw70")},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&h(n)}}}function Tt(t){let e,n,r,o,c,l,i,a,u,f,d,p,y,$;function b(...e){return t[16](t[23],t[24],...e)}return jt(t),r=new Ct({props:{celeb:t[23],winner:t[23].price>=t[24].price,showPrice:t[2]}}),r.$on("select",(function(...e){return t[15](t[23],t[24],...e)})),u=new Ct({props:{celeb:t[24],winner:t[24].price>=t[23].price,showPrice:t[2]}}),u.$on("select",(function(...e){return t[17](t[23],t[24],...e)})),{c(){e=v("div"),n=v("div"),ct(r.$$.fragment),o=w(),c=v("div"),l=v("button"),l.textContent="Same price",i=w(),a=v("div"),ct(u.$$.fragment),_(n,"class","card-container svelte-1l5sw70"),_(l,"class","same svelte-1l5sw70"),_(c,"class","svelte-1l5sw70"),_(a,"class","card-container svelte-1l5sw70"),_(e,"class","game svelte-1l5sw70")},m(s,f){g(s,e,f),m(e,n),lt(r,n,null),m(e,o),m(e,c),m(c,l),m(e,i),m(e,a),lt(u,a,null),p=!0,y||($=[k(l,"click",b),k(e,"outrostart",t[18]),k(e,"outroend",t[19])],y=!0)},p(e,n){t=e;const o={};64&n&&(o.celeb=t[23]),64&n&&(o.winner=t[23].price>=t[24].price),4&n&&(o.showPrice=t[2]),r.$set(o);const s={};64&n&&(s.celeb=t[24]),64&n&&(s.winner=t[24].price>=t[23].price),4&n&&(s.showPrice=t[2]),u.$set(s),jt(t)},i(t){p||(tt(r.$$.fragment,t),tt(u.$$.fragment,t),D(()=>{d&&d.end(1),f||(f=rt(e,kt,{duration:200,y:20})),f.start()}),p=!0)},o(t){et(r.$$.fragment,t),et(u.$$.fragment,t),f&&f.invalidate(),d=ot(e,kt,{duration:200,y:-20}),p=!1},d(t){t&&h(e),it(r),it(u),t&&d&&d.end(),y=!1,s($)}}}function Nt(e){let n;return{c(){n=v("div"),n.innerHTML='<div class="loading-animation svelte-1l5sw70">Loading</div>',_(n,"class","loading svelte-1l5sw70")},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&h(n)}}}function Rt(t){let e,n,r,o,s,c;return{c(){e=v("img"),_(e,"class","giant-result svelte-1l5sw70"),e.src!==(n="icons/"+t[1]+".svg")&&_(e,"src",n),_(e,"alt",r=t[1]+" answer")},m(t,n){g(t,e,n),c=!0},p(t,o){(!c||2&o&&e.src!==(n="icons/"+t[1]+".svg"))&&_(e,"src",n),(!c||2&o&&r!==(r=t[1]+" answer"))&&_(e,"alt",r)},i(t){c||(D(()=>{s&&s.end(1),o||(o=rt(e,kt,{x:100,duration:200})),o.start()}),c=!0)},o(n){o&&o.invalidate(),s=ot(e,t[9],{key:t[6]}),c=!1},d(t){t&&h(e),t&&s&&s.end()}}}function Bt(e){let n,r,o,s;return{c(){n=v("img"),n.src!==(r="icons/"+e[21]+".svg")&&_(n,"src",r),_(n,"alt",o=e[21]+" answer"),_(n,"class","svelte-1l5sw70")},m(t,e){g(t,n,e)},p(t,e){16&e&&n.src!==(r="icons/"+t[21]+".svg")&&_(n,"src",r),16&e&&o!==(o=t[21]+" answer")&&_(n,"alt",o)},i(t){s||D(()=>{s=rt(n,e[10],{key:e[6]}),s.start()})},o:t,d(t){t&&h(n)}}}function Ft(e){let n,r,o=e[21]&&Bt(e);return{c(){n=v("span"),o&&o.c(),r=w(),_(n,"class","result svelte-1l5sw70")},m(t,e){g(t,n,e),o&&o.m(n,null),m(n,r)},p(t,e){t[21]?o?(o.p(t,e),16&e&&tt(o,1)):(o=Bt(t),o.c(),tt(o,1),o.m(n,r)):o&&(o.d(1),o=null)},i(t){tt(o)},o:t,d(t){t&&h(n),o&&o.d()}}}function It(t){let e,n,r,o,s,c,l,i,a=!t[3]&&St(),u=t[0]&&qt(t),f=t[2]&&Rt(t),d=t[4],p=[];for(let e=0;e<d.length;e+=1)p[e]=Ft(Ot(t,d,e));return{c(){e=v("header"),n=v("p"),a&&a.c(),r=w(),o=v("div"),u&&u.c(),s=w(),f&&f.c(),c=w(),l=v("div");for(let t=0;t<p.length;t+=1)p[t].c();_(o,"class","game-container svelte-1l5sw70"),_(l,"class","results svelte-1l5sw70"),P(l,"grid-template-columns","repeat("+t[4].length+", 1fr)")},m(t,d){g(t,e,d),m(e,n),a&&a.m(n,null),g(t,r,d),g(t,o,d),u&&u.m(o,null),g(t,s,d),f&&f.m(t,d),g(t,c,d),g(t,l,d);for(let t=0;t<p.length;t+=1)p[t].m(l,null);i=!0},p(t,[e]){if(t[3]?a&&(a.d(1),a=null):a||(a=St(),a.c(),a.m(n,null)),t[0]?u?(u.p(t,e),1&e&&tt(u,1)):(u=qt(t),u.c(),tt(u,1),u.m(o,null)):u&&(X(),et(u,1,1,()=>{u=null}),Z()),t[2]?f?(f.p(t,e),4&e&&tt(f,1)):(f=Rt(t),f.c(),tt(f,1),f.m(c.parentNode,c)):f&&(X(),et(f,1,1,()=>{f=null}),Z()),16&e){let n;for(d=t[4],n=0;n<d.length;n+=1){const r=Ot(t,d,n);p[n]?(p[n].p(r,e),tt(p[n],1)):(p[n]=Ft(r),p[n].c(),tt(p[n],1),p[n].m(l,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=d.length}(!i||16&e)&&P(l,"grid-template-columns","repeat("+t[4].length+", 1fr)")},i(t){if(!i){tt(u),tt(f);for(let t=0;t<d.length;t+=1)tt(p[t]);i=!0}},o(t){et(u),et(f),i=!1},d(t){t&&h(e),a&&a.d(),t&&h(r),t&&h(o),u&&u.d(),t&&h(s),f&&f.d(t),t&&h(c),t&&h(l),y(p,t)}}}function Dt(t,e,n){let{selection:r}=e;const o=async t=>{const e=await fetch(`https://cameo-explorer.netlify.app/celebs/${t}.json`),n=await e.json();var r;return await(r=n.image,new Promise((t,e)=>{const n=new Image;n.onload=()=>t(n),n.onerror=e,n.src=r})),n},s=r.map(t=>Promise.all([o(t.a.id),o(t.b.id)])),c=L(),[l,i]=xt({easing:wt,duration:300});let a,u,f=!0,d=0,p=!1;const m=Array(r.length),g=async(t,e,o)=>{n(1,a=Math.sign(t.price-e.price)===o?"right":"wrong"),n(2,u=!0),await pt(1200),n(2,u=!1),n(4,m[d]=a,m),await pt(400),d<r.length-1?n(6,d+=1):n(3,p=!0)};let h;return t.$set=t=>{"selection"in t&&n(13,r=t.selection)},t.$$.update=()=>{16&t.$$.dirty&&n(5,h=m.filter(t=>"right"===t).length)},[f,a,u,p,m,h,d,s,c,l,i,g,(t,e)=>{const n=t/e;return dt(n<.5?["Ouch","That wasn't very good","Must try harder"]:n<.8?["Not bad!","Keep practicing!"]:n<1?["So close!","Almost there!"]:["You rock!","Flawless victory"])},r,()=>c("restart"),(t,e)=>{g(t,e,1)},(t,e)=>{g(t,e,0)},(t,e)=>{g(t,e,-1)},()=>n(0,f=!1),()=>n(0,f=!0)]}class Ht extends ft{constructor(t){super(),ut(this,t,Dt,It,l,{selection:13})}}function Wt(t){let e,n;return e=new Ht({props:{selection:t[1]}}),e.$on("restart",t[3]),{c(){ct(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.selection=t[1]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Yt(e){let n,r;return n=new $t({}),n.$on("select",e[2]),{c(){ct(n.$$.fragment)},m(t,e){lt(n,t,e),r=!0},p:t,i(t){r||(tt(n.$$.fragment,t),r=!0)},o(t){et(n.$$.fragment,t),r=!1},d(t){it(n,t)}}}function Kt(t){let e,n,r,o;const s=[Yt,Wt],c=[];function l(t,e){return"welcome"===t[0]?0:"playing"===t[0]?1:-1}return~(n=l(t))&&(r=c[n]=s[n](t)),{c(){e=v("main"),r&&r.c(),_(e,"class","svelte-2p147u")},m(t,r){g(t,e,r),~n&&c[n].m(e,null),o=!0},p(t,[o]){let i=n;n=l(t),n===i?~n&&c[n].p(t,o):(r&&(X(),et(c[i],1,1,()=>{c[i]=null}),Z()),~n?(r=c[n],r||(r=c[n]=s[n](t),r.c()),tt(r,1),r.m(e,null)):r=null)},i(t){o||(tt(r),o=!0)},o(t){et(r),o=!1},d(t){t&&h(e),~n&&c[n].d()}}}function Vt(t,e,n){let r,o,s="welcome";var c;c=()=>{r=(async()=>{const t=await fetch("https://cameo-explorer.netlify.app/celebs.json"),e=await t.json(),n=new Map;e.forEach(t=>n.set(t.id,t));const r=new Set;return e.forEach(t=>{t.reviews>=50&&(r.add(t),t.similar.forEach(t=>r.add(n.get(t))))}),{celebs:Array.from(r),lookup:n}})()},z().$$.on_mount.push(c);return[s,o,async t=>{const{celebs:e,lookup:c}=await r;n(1,o=function(t,e,n){const r=t.filter(t=>t.categories.includes(n)),o=new Set,s=[];let c=10;for(;c--;){const t=Math.random(),n=Math.floor(t*r.length),c=r[n];let l;mt(r,n);const i=c.similar.filter(t=>!o.has(t));if(i.length>0&&Math.random()<.75){const t=dt(i);l=e.get(t)}else l=dt(r);s.push({a:c,b:l}),o.add(c.id),o.add(l.id),mt(r,r.indexOf(l))}return s}(e,c,t.detail.category.slug)),n(0,s="playing")},()=>n(0,s="welcome")]}const Gt=new class extends ft{constructor(t){super(),ut(this,t,Vt,Kt,l,{})}}({target:document.body});return"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js"),Gt}();
//# sourceMappingURL=bundle.js.map
